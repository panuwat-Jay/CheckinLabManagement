{% extends 'cklab/base.html' %}
{% load static %}

{% block title %}ขอบคุณที่ใช้บริการ{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light py-5">
    <div class="kiosk-card w-100 text-center animate-fade shadow-sm border-0 bg-white" style="max-width: 600px; border-radius: 20px;">
        
        <div class="kiosk-body py-5 px-4">
            
            <div class="success-animation mb-3">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" style="width: 80px; height: 80px;">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                </svg>
            </div>

            <h2 class="fw-bold mt-3" style="color: var(--primary);">เลิกใช้งานสำเร็จ!</h2>
            <p class="text-muted">ขอบคุณที่ใช้บริการ CKLab</p>

            <hr class="my-4 opacity-10">

            <p class="fw-bold text-secondary mb-2">ความพึงพอใจของคุณ</p>
            
            <form method="POST" id="feedbackForm">
                {% csrf_token %}
                <div class="star-rating mb-2" id="starContainer" style="font-size: 3.5rem; line-height: 1;">
                    <span data-value="1" class="px-1" style="cursor: pointer; transition: 0.2s;">★</span>
                    <span data-value="2" class="px-1" style="cursor: pointer; transition: 0.2s;">★</span>
                    <span data-value="3" class="px-1" style="cursor: pointer; transition: 0.2s;">★</span>
                    <span data-value="4" class="px-1" style="cursor: pointer; transition: 0.2s;">★</span>
                    <span data-value="5" class="px-1" style="cursor: pointer; transition: 0.2s;">★</span>
                </div>
                
                <input type="hidden" name="rating" id="ratingInput" value="5">
                <div id="rateText" class="fw-bold mb-4" style="color: #198754; font-size: 1.2rem;">ยอดเยี่ยม (5/5)</div>

                <div class="text-start mx-auto" style="max-width: 100%;">
                    <label class="form-label small fw-bold text-muted mb-2">ข้อเสนอแนะเพิ่มเติม (Optional)</label>
                    <textarea name="comment" id="comment" class="form-control border-0 bg-light py-3" rows="3" placeholder="พิมพ์ข้อความที่นี่..." style="border-radius: 12px; font-size: 0.95rem;"></textarea>
                </div>

                <div class="mt-4">
                    <button type="submit" class="btn btn-primary w-100 py-3 fw-bold rounded-pill shadow-sm transition-btn">
                        ส่งข้อมูลและกลับหน้าหลัก
                    </button>
                </div>
            </form>

        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'cklab/js/feedback.js' %}"></script>
{% endblock %}